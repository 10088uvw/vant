import{F as e}from"./index.29428dd4.js";import{P as t}from"./index.03bd3dc3.js";import{t as l,e as a,a as o}from"./use-translate.ed5e29f0.js";import{c as s,w as n}from"./with-install.9958dc40.js";import{T as i,a as u}from"./index.6f40e3f2.js";import{I as r}from"./index.667f321a.js";import{B as d,H as c,z as p,f as m,C as h,s as v,E as x,r as b,a as f,w,D as j,F as g,o as V}from"./vendor.ba7e37c4.js";import{d as y}from"./deep-clone.ce66565c.js";import"./constant.4d85ecb9.js";import"./event.7d40caae.js";import"./unit.2a41fb1b.js";import"./number.b01aa591.js";import"./index.d6d78035.js";import"./use-route.59eae6fc.js";import"./use-expose.ecdf2fa3.js";import"./index.5d553880.js";import"./useParent.7ddf7229.js";import"./interceptor.29d0b3cc.js";import"./use-touch.3bbb1d83.js";import"./index.6ba73617.js";import"./utils.83cd68fa.js";import"./index.a4c0d7b1.js";import"./use-lazy-render.924a5154.js";import"./on-popup-reopen.fc1de525.js";import"./index.30afc43b.js";import"./index.4b177ea8.js";import"./style.c6c38aef.js";import"./useChildren.6233e7a6.js";import"./use-refs.3302cfeb.js";import"./index.6adc4e09.js";import"./index.d9de3cd2.js";function C(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!h(e)}const[O,U,k]=s("cascader");const A=n(d({name:O,props:{title:String,closeable:l,swipeable:l,modelValue:[Number,String],fieldNames:Object,placeholder:String,activeColor:String,options:{type:Array,default:()=>[]},closeIcon:{type:String,default:"cross"}},emits:["close","change","finish","update:modelValue","click-tab"],setup(e,{slots:t,emit:l}){const o=c({tabs:[],activeTab:0}),{text:s,value:n,children:d}=a({text:"text",value:"value",children:"children"},e.fieldNames),h=(e,t)=>{for(let l=0;l<e.length;l++){const a=e[l];if(a[n]===t)return[a];if(a[d]){const e=h(a[d],t);if(e)return[a,...e]}}},x=()=>{if(e.modelValue||0===e.modelValue){const t=h(e.options,e.modelValue);if(t){let l=e.options;return o.tabs=t.map((e=>{const t={options:l,selectedOption:e},a=l.find((t=>t[n]===e[n]));return a&&(l=a[d]),t})),l&&o.tabs.push({options:l,selectedOption:null}),void v((()=>{o.activeTab=o.tabs.length-1}))}}o.tabs=[{options:e.options,selectedOption:null}]},b=()=>l("close"),f=({name:e,title:t})=>l("click-tab",e,t),w=(a,i,u)=>{const c=i&&a[n]===i[n],p=a.color||(c?e.activeColor:void 0),h=t.option?t.option({option:a,selected:c}):m("span",null,[a[s]]);return m("li",{class:[U("option",{selected:c,disabled:a.disabled}),a.className],style:{color:p},onClick:()=>((e,t)=>{if(e.disabled)return;if(o.tabs[t].selectedOption=e,o.tabs.length>t+1&&(o.tabs=o.tabs.slice(0,t+1)),e[d]){const l={options:e[d],selectedOption:null};o.tabs[t+1]?o.tabs[t+1]=l:o.tabs.push(l),v((()=>{o.activeTab++}))}const a=o.tabs.map((e=>e.selectedOption)).filter(Boolean),s={value:e[n],tabIndex:t,selectedOptions:a};l("update:modelValue",e[n]),l("change",s),e[d]||l("finish",s)})(a,u)},[h,c?m(r,{name:"success",class:U("selected-icon")},null):null])},j=(t,l)=>{let a;const{options:o,selectedOption:n}=t,i=n?n[s]:e.placeholder||k("select");return m(u,{title:i,titleClass:U("tab",{unselected:!n})},C(a=((e,t,l)=>m("ul",{class:U("options")},[e.map((e=>w(e,t,l)))]))(o,n,l))?a:{default:()=>[a]})},g=()=>{let t;return m(i,{active:o.activeTab,"onUpdate:active":e=>o.activeTab=e,animated:!0,class:U("tabs"),color:e.activeColor,swipeThreshold:0,swipeable:e.swipeable,"onClick-tab":f},C(t=o.tabs.map(j))?t:{default:()=>[t]})};return x(),p((()=>e.options),x,{deep:!0}),p((()=>e.modelValue),(e=>{if(e||0===e){if(o.tabs.map((e=>{var t;return null==(t=e.selectedOption)?void 0:t[n]})).includes(e))return}x()})),()=>m("div",{class:U()},[m("div",{class:U("header")},[m("h2",{class:U("title")},[t.title?t.title():e.title]),e.closeable?m(r,{name:e.closeIcon,class:U("close-icon"),onClick:b},null):null]),g()])}}));var N=[{text:"浙江省",value:"330000",children:[{text:"杭州市",value:"330100",children:[{text:"上城区",value:"330102"},{text:"下城区",value:"330103"},{text:"江干区",value:"330104"}]},{text:"宁波市",value:"330200",children:[{text:"海曙区",value:"330203"},{text:"江北区",value:"330205"},{text:"北仑区",value:"330206"}]},{text:"温州市",value:"330300",children:[{text:"鹿城区",value:"330302"},{text:"龙湾区",value:"330303"},{text:"瓯海区",value:"330304"}]}]},{text:"江苏省",value:"320000",children:[{text:"南京市",value:"320100",children:[{text:"玄武区",value:"320102"},{text:"秦淮区",value:"320104"},{text:"建邺区",value:"320105"}]},{text:"无锡市",value:"320200",children:[{text:"锡山区",value:"320205"},{text:"惠山区",value:"320206"},{text:"滨湖区",value:"320211"}]},{text:"徐州市",value:"320300",children:[{text:"鼓楼区",value:"320302"},{text:"云龙区",value:"320303"},{text:"贾汪区",value:"320305"}]}]}],F=[{text:"Zhejiang",value:"330000",children:[{text:"Hangzhou",value:"330100",children:[{text:"Shangcheng",value:"330102"},{text:"Xiacheng",value:"330103"},{text:"Jianggan",value:"330104"}]},{text:"Ningbo",value:"330200",children:[{text:"Haishu",value:"330203"},{text:"Jiangbei",value:"330205"},{text:"Beilun",value:"330206"}]},{text:"Wenzhou",value:"330300",children:[{text:"Lucheng",value:"330302"},{text:"Longwan",value:"330303"},{text:"Ouhai",value:"330304"}]}]},{text:"Jiangsu",value:"320000",children:[{text:"Nanjing",value:"320100",children:[{text:"Xuanwu",value:"320102"},{text:"Qinghuai",value:"320104"},{text:"Jianye",value:"320105"}]},{text:"Wuxi",value:"320200",children:[{text:"Xishan",value:"320205"},{text:"Huishan",value:"320206"},{text:"Binhu",value:"320211"}]},{text:"Xuzhou",value:"320300",children:[{text:"Gulou",value:"320302"},{text:"Yunlong",value:"320303"},{text:"Jiawang",value:"320305"}]}]}],S=d({setup(l){const a=o({"zh-CN":{area:"地区",options:N,selectArea:"请选择地区",customColor:"自定义颜色",asyncOptions:"异步加载选项",asyncOptions1:[{text:"浙江省",value:"330000",children:[]}],asyncOptions2:[{text:"杭州市",value:"330100"},{text:"宁波市",value:"330200"}],customFieldNames:"自定义字段名"},"en-US":{area:"Area",options:F,selectArea:"Select Area",customColor:"Custom Color",asyncOptions:"Async Options",asyncOptions1:[{text:"Zhejiang",value:"330000",children:[]}],asyncOptions2:[{text:"Hangzhou",value:"330100"},{text:"Ningbo",value:"330200"}],customFieldNames:"Custom Field Names"}}),s=c({show:!1,value:"",result:""}),n=c({show:!1,value:null,result:""}),i=c({show:!1,value:null,result:"",options:a("asyncOptions1")}),u=c({show:!1,value:null,result:""}),r={text:"name",value:"code",children:"items"},d=x((()=>{const e=y(a("options")),t=e=>{"text"in e&&(e.name=e.text,delete e.text),"value"in e&&(e.code=e.value,delete e.value),"children"in e&&(e.items=e.children,delete e.children,e.items.forEach(t))};return e.forEach(t),e})),p=({value:e})=>{"330000"===e&&setTimeout((()=>{i.options[0].children=a("asyncOptions2")}),500)},h=(e,{value:t,selectedOptions:l})=>{const a=l.map((e=>e.text||e.name)).join("/");e.show=!1,e.value=t,e.result=a};return(l,o)=>{const c=b("demo-block");return V(),f(g,null,[m(c,{card:"",title:j(a)("basicUsage")},{default:w((()=>[m(j(e),{modelValue:j(s).result,"onUpdate:modelValue":o[0]||(o[0]=e=>j(s).result=e),"is-link":"",readonly:"",label:j(a)("area"),placeholder:j(a)("selectArea"),onClick:o[1]||(o[1]=e=>j(s).show=!0)},null,8,["modelValue","label","placeholder"]),m(j(t),{show:j(s).show,"onUpdate:show":o[5]||(o[5]=e=>j(s).show=e),round:"",teleport:"body",position:"bottom"},{default:w((()=>[m(j(A),{modelValue:j(s).value,"onUpdate:modelValue":o[2]||(o[2]=e=>j(s).value=e),title:j(a)("selectArea"),options:j(a)("options"),onClose:o[3]||(o[3]=e=>j(s).show=!1),onFinish:o[4]||(o[4]=e=>h(j(s),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"]),m(c,{card:"",title:j(a)("customColor")},{default:w((()=>[m(j(e),{modelValue:j(n).result,"onUpdate:modelValue":o[6]||(o[6]=e=>j(n).result=e),"is-link":"",readonly:"",label:j(a)("area"),placeholder:j(a)("selectArea"),onClick:o[7]||(o[7]=e=>j(n).show=!0)},null,8,["modelValue","label","placeholder"]),m(j(t),{show:j(n).show,"onUpdate:show":o[11]||(o[11]=e=>j(n).show=e),round:"",teleport:"body",position:"bottom"},{default:w((()=>[m(j(A),{modelValue:j(n).value,"onUpdate:modelValue":o[8]||(o[8]=e=>j(n).value=e),title:j(a)("selectArea"),options:j(a)("options"),"active-color":"#1989fa",onClose:o[9]||(o[9]=e=>j(n).show=!1),onFinish:o[10]||(o[10]=e=>h(j(n),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"]),m(c,{card:"",title:j(a)("asyncOptions")},{default:w((()=>[m(j(e),{modelValue:j(i).result,"onUpdate:modelValue":o[12]||(o[12]=e=>j(i).result=e),"is-link":"",readonly:"",label:j(a)("area"),placeholder:j(a)("selectArea"),onClick:o[13]||(o[13]=e=>j(i).show=!0)},null,8,["modelValue","label","placeholder"]),m(j(t),{show:j(i).show,"onUpdate:show":o[17]||(o[17]=e=>j(i).show=e),round:"",teleport:"body",position:"bottom"},{default:w((()=>[m(j(A),{modelValue:j(i).value,"onUpdate:modelValue":o[14]||(o[14]=e=>j(i).value=e),title:j(a)("selectArea"),options:j(i).options,onClose:o[15]||(o[15]=e=>j(i).show=!1),onChange:p,onFinish:o[16]||(o[16]=e=>h(j(i),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"]),m(c,{card:"",title:j(a)("customFieldNames")},{default:w((()=>[m(j(e),{modelValue:j(u).result,"onUpdate:modelValue":o[18]||(o[18]=e=>j(u).result=e),"is-link":"",readonly:"",label:j(a)("area"),placeholder:j(a)("selectArea"),onClick:o[19]||(o[19]=e=>j(u).show=!0)},null,8,["modelValue","label","placeholder"]),m(j(t),{show:j(u).show,"onUpdate:show":o[23]||(o[23]=e=>j(u).show=e),round:"",teleport:"body",position:"bottom","safe-area-inset-bottom":""},{default:w((()=>[m(j(A),{modelValue:j(u).value,"onUpdate:modelValue":o[20]||(o[20]=e=>j(u).value=e),title:j(a)("selectArea"),options:j(d),"field-names":r,onClose:o[21]||(o[21]=e=>j(u).show=!1),onFinish:o[22]||(o[22]=e=>h(j(u),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"])],64)}}});export{S as default};
