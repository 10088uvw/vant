import{e,l as t,a}from"./use-translate.ed5e29f0.js";import{c as l,w as s}from"./with-install.9958dc40.js";import{C as o}from"./index.d6d78035.js";import{F as n}from"./index.1450815a.js";import{F as i}from"./index.29428dd4.js";import{B as d}from"./index.4d75283b.js";import{D as r}from"./function-call.fa8a4a67.js";import{S as m}from"./index.9a5da835.js";import{B as c,H as u,z as p,f,G as b,r as j,c as x,w as g,D as h,o as v}from"./vendor.ba7e37c4.js";import{T as D}from"./function-call.2531544a.js";import"./use-route.59eae6fc.js";import"./index.667f321a.js";import"./unit.2a41fb1b.js";import"./constant.4d85ecb9.js";import"./use-expose.ecdf2fa3.js";import"./useChildren.6233e7a6.js";import"./event.7d40caae.js";import"./number.b01aa591.js";import"./index.5d553880.js";import"./useParent.7ddf7229.js";import"./index.e2ba8582.js";import"./mount-component.858fa0c4.js";import"./interceptor.29d0b3cc.js";import"./index.03bd3dc3.js";import"./use-touch.3bbb1d83.js";import"./index.6ba73617.js";import"./utils.83cd68fa.js";import"./index.a4c0d7b1.js";import"./use-lazy-render.924a5154.js";import"./on-popup-reopen.fc1de525.js";import"./index.30afc43b.js";import"./index.e3db815a.js";const[S,V,w]=l("contact-edit"),y={tel:"",name:""};const B=s(c({name:S,props:{isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>e({},y)},telValidator:{type:Function,default:t}},emits:["save","delete","change-default"],setup(t,{emit:a}){const l=u(e({},y,t.contactInfo)),s=()=>{t.isSaving||a("save",l)},c=()=>r.confirm({title:w("confirmDelete")}).then((()=>a("delete",l))),b=()=>f(m,{modelValue:l.isDefault,"onUpdate:modelValue":e=>l.isDefault=e,size:24,onChange:e=>a("change-default",e)},null),j=()=>{if(t.showSetDefault)return f(o,{title:t.setDefaultLabel,class:V("switch-cell"),border:!1},{"right-icon":b})};return p((()=>t.contactInfo),(t=>e(l,y,t))),()=>f(n,{class:V(),onSubmit:s},{default:()=>[f("div",{class:V("fields")},[f(i,{modelValue:l.name,"onUpdate:modelValue":e=>l.name=e,clearable:!0,label:w("name"),rules:[{required:!0,message:w("nameEmpty")}],maxlength:"30",placeholder:w("name")},null),f(i,{modelValue:l.tel,"onUpdate:modelValue":e=>l.tel=e,clearable:!0,type:"tel",label:w("tel"),rules:[{validator:t.telValidator,message:w("telInvalid")}],placeholder:w("tel")},null)]),j(),f("div",{class:V("buttons")},[f(d,{block:!0,round:!0,type:"danger",text:w("save"),class:V("button"),loading:t.isSaving,nativeType:"submit"},null),t.isEdit&&f(d,{block:!0,round:!0,text:w("delete"),class:V("button"),loading:t.isDeleting,onClick:c},null)])]})}}));var C=c({setup(e){const t=a({"zh-CN":{defaultLabel:"设为默认联系人"},"en-US":{defaultLabel:"Set as the default contact"}}),l=b({}),s=()=>D(t("save")),o=()=>D(t("delete"));return(e,a)=>{const n=j("demo-block");return v(),x(n,{title:h(t)("basicUsage")},{default:g((()=>[f(h(B),{"is-edit":"","show-set-default":"","contact-info":l.value,"set-default-label":h(t)("defaultLabel"),onSave:s,onDelete:o},null,8,["contact-info","set-default-label"])])),_:1},8,["title"])}}});export{C as default};
